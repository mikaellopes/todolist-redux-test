{"ast":null,"code":"import produce from \"immer\";\nimport types from \"./types\";\nconst INITIAL_STATE = {\n  loading: true,\n  tasks: []\n};\n\nfunction app(state = INITIAL_STATE, action) {\n  // action = ACTION COM TODOS OS DADOS\n  switch (action.type) {\n    case types.SAVE:\n      {\n        return produce(state, draft => {\n          draft.tasks.push(action.task);\n        });\n      }\n\n    case types.REMOVE:\n      {\n        return produce(state, draft => {\n          const index = draft.tasks.findIndex(task => task.id === action.taskId);\n          draft.tasks.splice(index, 1);\n        });\n      }\n\n    case types.TOGGLE:\n      {\n        return produce(state, draft => {\n          const index = draft.tasks.findIndex(task => task.id === action.taskId);\n          draft.tasks[index].completed = !draft.tasks[index].completed;\n        });\n      }\n\n    case types.SET_LOADING:\n      {\n        return produce(state, draft => {\n          draft.loading = action.loadingState;\n        });\n      }\n\n    case types.SET:\n      {\n        return produce(state, draft => {\n          draft.tasks = action.tasks;\n        });\n      }\n\n    default:\n      return state;\n  }\n}\n\nexport default app;","map":{"version":3,"sources":["/Users/admin/todolist-redux/web/src/src/store/modules/app/reducer.js"],"names":["produce","types","INITIAL_STATE","loading","tasks","app","state","action","type","SAVE","draft","push","task","REMOVE","index","findIndex","id","taskId","splice","TOGGLE","completed","SET_LOADING","loadingState","SET"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,OAApB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAEA,MAAMC,aAAa,GAAG;AACrBC,EAAAA,OAAO,EAAE,IADY;AAErBC,EAAAA,KAAK,EAAE;AAFc,CAAtB;;AAKA,SAASC,GAAT,CAAaC,KAAK,GAAGJ,aAArB,EAAoCK,MAApC,EAA4C;AAC3C;AACA,UAAQA,MAAM,CAACC,IAAf;AACC,SAAKP,KAAK,CAACQ,IAAX;AAAiB;AAChB,eAAOT,OAAO,CAACM,KAAD,EAASI,KAAD,IAAW;AAChCA,UAAAA,KAAK,CAACN,KAAN,CAAYO,IAAZ,CAAiBJ,MAAM,CAACK,IAAxB;AACA,SAFa,CAAd;AAGA;;AACD,SAAKX,KAAK,CAACY,MAAX;AAAmB;AAClB,eAAOb,OAAO,CAACM,KAAD,EAASI,KAAD,IAAW;AAChC,gBAAMI,KAAK,GAAGJ,KAAK,CAACN,KAAN,CAAYW,SAAZ,CACZH,IAAD,IAAUA,IAAI,CAACI,EAAL,KAAYT,MAAM,CAACU,MADhB,CAAd;AAGAP,UAAAA,KAAK,CAACN,KAAN,CAAYc,MAAZ,CAAmBJ,KAAnB,EAA0B,CAA1B;AACA,SALa,CAAd;AAMA;;AACD,SAAKb,KAAK,CAACkB,MAAX;AAAmB;AAClB,eAAOnB,OAAO,CAACM,KAAD,EAASI,KAAD,IAAW;AAChC,gBAAMI,KAAK,GAAGJ,KAAK,CAACN,KAAN,CAAYW,SAAZ,CACZH,IAAD,IAAUA,IAAI,CAACI,EAAL,KAAYT,MAAM,CAACU,MADhB,CAAd;AAGAP,UAAAA,KAAK,CAACN,KAAN,CAAYU,KAAZ,EAAmBM,SAAnB,GAA+B,CAACV,KAAK,CAACN,KAAN,CAAYU,KAAZ,EAAmBM,SAAnD;AACA,SALa,CAAd;AAMA;;AACD,SAAKnB,KAAK,CAACoB,WAAX;AAAwB;AACvB,eAAOrB,OAAO,CAACM,KAAD,EAASI,KAAD,IAAW;AAChCA,UAAAA,KAAK,CAACP,OAAN,GAAgBI,MAAM,CAACe,YAAvB;AACA,SAFa,CAAd;AAGA;;AACD,SAAKrB,KAAK,CAACsB,GAAX;AAAgB;AACf,eAAOvB,OAAO,CAACM,KAAD,EAASI,KAAD,IAAW;AAChCA,UAAAA,KAAK,CAACN,KAAN,GAAcG,MAAM,CAACH,KAArB;AACA,SAFa,CAAd;AAGA;;AACD;AACC,aAAOE,KAAP;AAjCF;AAmCA;;AAED,eAAeD,GAAf","sourcesContent":["import produce from \"immer\";\nimport types from \"./types\";\n\nconst INITIAL_STATE = {\n\tloading: true,\n\ttasks: [],\n};\n\nfunction app(state = INITIAL_STATE, action) {\n\t// action = ACTION COM TODOS OS DADOS\n\tswitch (action.type) {\n\t\tcase types.SAVE: {\n\t\t\treturn produce(state, (draft) => {\n\t\t\t\tdraft.tasks.push(action.task);\n\t\t\t});\n\t\t}\n\t\tcase types.REMOVE: {\n\t\t\treturn produce(state, (draft) => {\n\t\t\t\tconst index = draft.tasks.findIndex(\n\t\t\t\t\t(task) => task.id === action.taskId\n\t\t\t\t);\n\t\t\t\tdraft.tasks.splice(index, 1);\n\t\t\t});\n\t\t}\n\t\tcase types.TOGGLE: {\n\t\t\treturn produce(state, (draft) => {\n\t\t\t\tconst index = draft.tasks.findIndex(\n\t\t\t\t\t(task) => task.id === action.taskId\n\t\t\t\t);\n\t\t\t\tdraft.tasks[index].completed = !draft.tasks[index].completed;\n\t\t\t});\n\t\t}\n\t\tcase types.SET_LOADING: {\n\t\t\treturn produce(state, (draft) => {\n\t\t\t\tdraft.loading = action.loadingState;\n\t\t\t});\n\t\t}\n\t\tcase types.SET: {\n\t\t\treturn produce(state, (draft) => {\n\t\t\t\tdraft.tasks = action.tasks;\n\t\t\t});\n\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport default app;\n"]},"metadata":{},"sourceType":"module"}